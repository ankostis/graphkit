# Render it manually with this command, and remember to update result in git:
#
#   dot docs/GraphtikFlowchart.dot -Tsvg -odocs/source/images/GraphtikFlowchart-vX.Y.Z.svg
#
digraph {
    label="graphtik-v8.1+ module dependencies";
    labelloc=t;
    node [style=filled];
    nodesep=0.55;
    remincross=true;

    "plot.py"        [shape=component
                tooltip="(extra)"
                fillcolor=Aquamarine
                URL="reference.html#module-graphtik.plot"];
    "sphinxext/"   [shape=component
                tooltip="(extra)"
                 fillcolor=Aquamarine
                 URL="reference.html#module-graphtik.sphinxext"];

    subgraph cluster_base {
        label="base";
        labelloc=b;
        tooltip="almost all other modules depend on these";

        "config.py"      [shape=component tooltip="(public) almost everything import this module"
                    fillcolor=wheat
                    URL="reference.html#module-graphtik.config"];
        "base.py"   [shape=component
                    tooltip="(implicit) everything imports this module, not shown"
                    fillcolor=wheat
                    URL="reference.html#module-graphtik.base"];
        "modifiers.py"   [shape=component
                    tooltip="(public) almost everything imports this module"
                    fillcolor=wheat
                    URL="reference.html#module-graphtik.modifiers"];
    }

    "pipeline.py"    [shape=component
                tooltip="(public)"
                fillcolor=wheat
                 URL="reference.html#module-graphtik.pipeline"];
    "op.py"    [shape=component
                tooltip="(public)"
                fillcolor=wheat
                 URL="reference.html#module-graphtik.op"];

    subgraph cluster_network {
        label="core modules";
        tooltip="related to graph solution";
        URL="arch.html#term-execution";

        "execution.py"   [shape=component
                    tooltip="(private)"
                    fillcolor=AliceBlue
                    URL="reference.html#module-graphtik.execution"];
        "network.py"     [shape=component
                    tooltip="(private)"
                    fillcolor=AliceBlue
                    URL="reference.html#module-graphtik.network"];
    }

    {"op.py", "pipeline.py", "network.py", "execution.py", "plot.py"} -> "base.py" [tooltip="(import-time)"];
    "base.py" -> "plot.py"                      [tooltip="(run-time)" style=dashed];
    "execution.py" -> "network.py"    [tooltip="(import-time)"];
    "network.py" -> {"op.py", "pipeline.py", "execution.py"}    [tooltip="(run-time)" style=dashed];
    "op.py" -> "pipeline.py"    [style=dashed
                                 tooltip="(run-time) for plotting"];
    "pipeline.py" -> {"op.py", "network.py"}    [tooltip="(run-time)" style=dashed];
    "sphinxext/" -> "plot.py"                   [tooltip="(import-time)"];
}